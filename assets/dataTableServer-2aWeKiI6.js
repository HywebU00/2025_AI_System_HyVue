import{a9 as N,c as x,i as a,ai as D,r as T,o as m,k as e,aj as Q,ak as R,A as c,p as t,P as v,H as i,n as w,al as W,W as _,am as j,ah as $,af as K,G as n,an as J,_ as X,ao as Y,Q as E,T as S,N as k,v as C,I as V,J as r,Y as F,R as Z,$ as q,a4 as h,a5 as ll,E as el,F as G,a6 as al,K as tl,L as A,D as U,Z as L,a2 as O,ac as sl,ad as z,a7 as ol,a1 as nl}from"./vendor-DO_icaNW.js";import{_ as B}from"./index-CMlRi1JU.js";import{d as il}from"./datepickerModal-BOe0Gjdk.js";const dl={name:"panelCard",props:{textArea:{type:Boolean,default:!1},textEditor:{type:Boolean,default:!1}},data:()=>({panel:null,text:" 這是一段很長很長的文字，希望收合時仍顯示一行，展開時顯示全部內容。內容必須是連續的不可斷行。 這是一段很長很長的文字，希望收合時仍顯示一行。",editStatus:!1}),methods:{editHandle(){this.panel=0,this.editStatus=!0},panelsHandle(){this.panel==0?this.panel=1:this.panel=0}},components:{QuillEditor:N}},rl={class:""},ul={class:"title"},ml={class:""},pl={key:0,class:"text"},fl={key:1,class:"text"},bl={class:""},vl={key:0},yl={key:1,class:"subtitle"},Vl={key:1,class:"editorCard"},gl={class:"btnGrp"};function kl(s,l,u,g,y,b){const p=T("QuillEditor");return m(),x(D,{class:"panelCard",modelValue:s.panel,"onUpdate:modelValue":l[1]||(l[1]=f=>s.panel=f)},{default:a(()=>[e(Q,null,{default:a(()=>[e(R,{"hide-actions":"",onClick:c(b.panelsHandle,["stop"])},{default:a(({expanded:f})=>[t("div",rl,[t("div",ul,[t("div",ml,[l[2]||(l[2]=t("span",{class:"material-symbols-outlined icon"}," comment ",-1)),u.textArea?(m(),v("span",pl,"問題")):(m(),v("span",fl,"回答"))]),t("div",bl,[e(i,{variant:"text",class:w(["icon",{hide:s.editStatus}]),onClick:c(b.editHandle,["stop"])},{default:a(()=>l[3]||(l[3]=[t("span",{class:"material-symbols-outlined"}," edit ",-1)])),_:1},8,["class","onClick"]),e(i,{class:"icon",disabled:s.editStatus,onClick:c(b.panelsHandle,["stop"]),variant:"text"},{default:a(()=>l[4]||(l[4]=[t("span",{class:"material-symbols-outlined"}," keyboard_arrow_down ",-1)])),_:1},8,["disabled","onClick"])])]),e(W,{"leave-absolute":""},{default:a(()=>[f?(m(),v("span",vl)):(m(),v("div",yl,_(this.text),1))]),_:2},1024)])]),_:1},8,["onClick"]),e(j,null,{default:a(()=>[t("p",{class:w([{hide:s.editStatus}])},_(this.text),3),t("div",{class:w(["textArea",{show:s.editStatus}])},[u.textArea?(m(),x(K,{key:0,"single-line":"",label:"",variant:"outlined","hide-details":"auto",value:this.text},null,8,["value"])):$("",!0),u.textEditor?(m(),v("div",Vl,[e(p)])):$("",!0),t("div",gl,[e(i,{variant:"text",onClick:l[0]||(l[0]=f=>s.editStatus=!1)},{default:a(()=>l[5]||(l[5]=[n("取消")])),_:1}),e(i,{class:"elevation-0"},{default:a(()=>l[6]||(l[6]=[n("儲存")])),_:1})])],2)]),_:1})]),_:1})]),_:1},8,["modelValue"])}const Cl=B(dl,[["render",kl]]),cl=[{id:"001",name:"陳小姐",class:"事務科",title:"事務員",password:"2wsx@@(OL>",status:"待審"},{id:"002",name:"王先生",class:"事務科",title:"事務員",password:"2wsx@@(OL>",status:"待審"},{id:"003",name:"陳小姐",class:"事務科",title:"事務員",password:"2wsx@@(OL>",status:"待審"},{id:"004",name:"林先生",class:"事務科",title:"事務員",password:"2wsx@@(OL>",status:"待審"},{id:"005",name:"賴先生",class:"事務科",title:"事務員",password:"2wsx@@(OL>",status:"待審"}],wl={async fetch({page:s,itemsPerPage:l,sortBy:u}){return new Promise(g=>{setTimeout(()=>{const y=(s-1)*l,b=y+l,p=cl.slice();if(u.length){const o=u[0].key,d=u[0].order;p.sort((H,M)=>{const P=H[o],I=M[o];return d==="desc"?I-P:P-I})}const f=p.slice(y,b);g({items:f,total:p.length})},500)})}},xl={data:()=>({itemsPerPage:5,tableFiller:!1,expandCard:!1,overlay:!1,headers:[{title:"帳號",align:"start",sortable:!1,key:"id"},{title:"姓名",key:"name",align:"start",sortable:!1},{title:"單位",key:"class",align:"start",sortable:!1},{title:"職稱",key:"title",align:"start",sortable:!1},{title:"申請時密碼",key:"password",align:"start",sortable:!1},{title:"狀態",key:"status",align:"start",sortable:!1},{title:"動作",key:"iron",align:"start",sortable:!0,width:100},{title:"功能",key:"function",align:"center",sortable:!1,width:100}],customItemsPerPageText:"每頁顯示項目",serverItems:[],loading:!0,totalItems:0,tab:null,radioValue:"1"}),methods:{loadItems({page:s,itemsPerPage:l,sortBy:u}){this.loading=!0,wl.fetch({page:s,itemsPerPage:l,sortBy:u}).then(({items:g,total:y})=>{this.serverItems=g,this.totalItems=y,this.loading=!1})}},components:{panelCard:Cl,datepickerModalVue:il}},Tl={class:"d-flex"},$l={class:"btnGroup d-flex"},Pl={class:"d-flex justify-center align-center"},Il={class:"btnGroup d-flex"},_l={class:"titleContent"},El={class:"btnGrp"},Sl={class:"tabContent"},Fl={class:"formContent"},Gl={class:"",for:""},Al={class:"",for:""};function Ul(s,l,u,g,y,b){const p=T("panelCard"),f=T("datepickerModalVue");return m(),v(E,null,[e(J,{"items-per-page":s.itemsPerPage,"onUpdate:itemsPerPage":l[4]||(l[4]=o=>s.itemsPerPage=o),headers:s.headers,items:s.serverItems,"items-length":s.totalItems,loading:s.loading,"item-value":"name","onUpdate:options":b.loadItems,"show-select":"","checkbox-color":"primary","items-per-page-text":s.customItemsPerPageText},{"header.status":a(({item:o})=>[t("div",Tl,[l[12]||(l[12]=t("span",null," 子分類 ",-1)),e(S,{modelValue:s.tableFiller,"onUpdate:modelValue":l[2]||(l[2]=d=>s.tableFiller=d),"close-on-content-click":!1,location:"bottom"},{activator:a(({props:d})=>[t("span",C(d,{class:"material-symbols-outlined icon"})," filter_alt ",16)]),default:a(()=>[e(k,{class:"infoBtnContainer tableFiller"},{default:a(()=>[e(V,{class:"formGrp d-block"},{default:a(()=>[e(r,{class:"py-0",cols:"12"},{default:a(()=>[e(F,{color:"primary",label:"全選","hide-details":"auto"})]),_:1}),(m(),v(E,null,Z(3,d=>e(r,{cols:"12",key:d,class:"py-0"},{default:a(()=>[e(F,{color:"primary",label:"主分類","hide-details":"auto"})]),_:2},1024)),64)),e(r,null,{default:a(()=>[t("div",$l,[e(i,{elevation:"0",color:"primary",variant:"outlined",class:"mr-1",onClick:l[0]||(l[0]=d=>s.tableFiller=!1)},{default:a(()=>l[10]||(l[10]=[n("重設")])),_:1}),e(i,{elevation:"0",color:"primary",onClick:l[1]||(l[1]=d=>s.tableFiller=!1)},{default:a(()=>l[11]||(l[11]=[n("套用篩選")])),_:1})])]),_:1})]),_:1})]),_:1})]),_:1},8,["modelValue"])])]),"item.function":a(({item:o})=>[t("tr",null,[t("td",Pl,[e(S,{transition:"slide-y-transition"},{activator:a(({props:d})=>[e(i,C({icon:"mdi-cog",class:"ma-2"},d,{size:"x-small"}),null,16)]),default:a(()=>[e(k,{class:"pa-2"},{default:a(()=>[e(i,{size:"small",variant:"outlined",class:"my-1",block:"",color:"primary","prepend-icon":"mdi-delete"},{default:a(()=>l[13]||(l[13]=[n("刪除")])),_:1}),e(i,{size:"small",variant:"outlined",class:"my-1",block:"","prepend-icon":"mdi-pencil",color:"primary"},{default:a(()=>l[14]||(l[14]=[n("編輯")])),_:1})]),_:1})]),_:1})])])]),"item.iron":a(({item:o})=>[t("tr",null,[t("td",null,[t("div",Il,[e(i,{variant:"flat",class:"bg-primary_light btn_icon",size:"small",onClick:l[3]||(l[3]=d=>(s.expandCard=!s.expandCard,s.overlay=!s.overlay))},{default:a(()=>l[15]||(l[15]=[t("span",{class:"material-symbols-outlined text-neutral10"}," edit ",-1)])),_:1}),e(i,{variant:"flat",class:"bg-primary_light btn_icon",size:"small"},{default:a(()=>l[16]||(l[16]=[t("span",{class:"material-symbols-outlined text-neutral10"}," download ",-1)])),_:1})])])])]),_:1},8,["items-per-page","headers","items","items-length","loading","onUpdate:options","items-per-page-text"]),e(X,null,{default:a(()=>[q(e(k,{class:"mx-auto expandCard"},{default:a(()=>[e(h,null,{default:a(()=>[e(ll,null,{default:a(()=>[t("div",_l,[l[18]||(l[18]=t("div",{class:"title"},"編輯問答",-1)),e(i,{variant:"text",class:"btn_icon",onClick:l[5]||(l[5]=o=>(s.overlay=!s.overlay,s.expandCard=!s.expandCard))},{default:a(()=>l[17]||(l[17]=[t("span",{class:"material-symbols-outlined"}," close ",-1)])),_:1})]),t("div",El,[l[21]||(l[21]=t("span",{class:"text"},"1/60",-1)),e(i,{variant:"outlined",class:"elevation-0"},{default:a(()=>l[19]||(l[19]=[n("上一筆")])),_:1}),e(i,{class:"elevation-0"},{default:a(()=>l[20]||(l[20]=[n("下一筆")])),_:1})]),e(el,{modelValue:s.tab,"onUpdate:modelValue":l[6]||(l[6]=o=>s.tab=o),grow:""},{default:a(()=>[e(G,{value:1},{default:a(()=>l[22]||(l[22]=[n("問答內容")])),_:1}),e(G,{value:2},{default:a(()=>l[23]||(l[23]=[n("基本設定")])),_:1})]),_:1},8,["modelValue"])]),_:1}),e(al,null,{default:a(()=>[t("div",Sl,[e(tl,{modelValue:s.tab,"onUpdate:modelValue":l[8]||(l[8]=o=>s.tab=o)},{default:a(()=>[e(A,{value:1},{default:a(()=>[e(U,{class:"content"},{default:a(()=>[e(i,{class:"elevation-0 mb-2 refresh",variant:"text"},{prepend:a(()=>l[24]||(l[24]=[t("span",{class:"material-symbols-outlined"}," refresh ",-1)])),default:a(()=>[l[25]||(l[25]=n(" 更新回答"))]),_:1}),e(p,{textArea:!0}),e(p,{textArea:!0}),e(p,{textEditor:!0}),l[27]||(l[27]=t("div",{class:"tagInfo"},[t("div",{class:"tag"},"資料來源：文件上傳"),t("a",{class:"link",href:""},[t("span",{class:"material-symbols-outlined icon"}," attach_file "),t("span",null,"圖書館借閱規則.pdf")])],-1)),e(k,{class:"infoCard elevation-0"},{default:a(()=>l[26]||(l[26]=[t("p",null,[t("span",null," 委託借還書規則"),n(" 讀者可委託他人代為借閱或歸還書籍，但須提供以下資料： ")],-1),t("ul",null,[t("li",null,"1.借閱證或有效身分證明文件（如身分證、學生證等）"),t("li",null,"2.委託書（須載明委託人與受託人資訊）")],-1),t("p",null," 請注意，部分圖書館可能需事先申請或設定委託人，詳情請參閱各館規定或洽詢館方人員。 ",-1)])),_:1})]),_:1})]),_:1}),e(A,{value:2},{default:a(()=>[e(U,{fluid:""},{default:a(()=>[e(k,{class:"infoCard elevation-0"},{default:a(()=>l[28]||(l[28]=[t("ul",null,[t("li",null,[t("span",null,"建立日期 : "),n(" 2024/12/24 12:00 徐華 ")]),t("li",null,[t("span",null,"審核日期 : "),n(" 2024/12/25 13:00 張美美 ")]),t("li",null,[t("span",null,"最後更新 : "),n(" 2025/02/26 16:00 林小玲 ")])],-1)])),_:1}),t("div",Fl,[e(V,{class:"formGrp"},{default:a(()=>[e(r,{class:"pb-0",cols:"12"},{default:a(()=>l[29]||(l[29]=[t("label",{class:"",for:""},"主分類",-1)])),_:1}),e(r,{cols:"12",lg:"6"},{default:a(()=>[e(L,{label:"下拉式選單",density:"compact","single-line":"",variant:"outlined","hide-details":"auto",items:["選項ㄧ","選項二","選項三"]})]),_:1})]),_:1}),e(V,{class:"formGrp"},{default:a(()=>[e(r,{class:"pb-0",cols:"12"},{default:a(()=>l[30]||(l[30]=[t("label",{class:"",for:""},"子分類",-1)])),_:1}),e(r,{cols:"12",lg:"6"},{default:a(()=>[e(L,{label:"下拉式選單",density:"compact","single-line":"",variant:"outlined","hide-details":"auto",items:["選項ㄧ","選項二","選項三"]})]),_:1})]),_:1}),e(V,{class:"formGrp"},{default:a(()=>[e(r,{class:"pb-0",cols:"12"},{default:a(()=>[t("label",Gl,[l[31]||(l[31]=t("span",null,"發布日期",-1)),e(O,{text:"預設為啟用日，您可調整為未來日期以預約發佈",location:"top"},{activator:a(({props:o})=>[t("span",C(o,{class:"icon material-symbols-outlined"})," info ",16)]),_:1})])]),_:1}),e(r,{cols:"12",lg:"6"},{default:a(()=>[e(f)]),_:1})]),_:1}),e(V,{class:"formGrp"},{default:a(()=>[e(r,{class:"pb-0",cols:"12"},{default:a(()=>[t("label",Al,[l[32]||(l[32]=t("span",null,"停用設定",-1)),e(O,{text:"若有設定停用日期，到期後文章將自動下架至停用區",location:"top"},{activator:a(({props:o})=>[t("span",C(o,{class:"icon material-symbols-outlined"})," info ",16)]),_:1})])]),_:1}),e(r,{cols:"12",lg:"12"},{default:a(()=>[e(sl,{label:"","hide-details":"auto",modelValue:s.radioValue,"onUpdate:modelValue":l[7]||(l[7]=o=>s.radioValue=o),color:"primary"},{default:a(()=>[e(z,{label:"永久發佈（無停用日)",value:"1"}),e(z,{label:"自訂停用日",value:"2"}),s.radioValue==="2"?(m(),x(V,{key:0,class:""},{default:a(()=>[e(r,{cols:"12",lg:"6"},{default:a(()=>[e(f)]),_:1})]),_:1})):$("",!0)]),_:1},8,["modelValue"])]),_:1})]),_:1})])]),_:1})]),_:1})]),_:1},8,["modelValue"])])]),_:1}),e(ol,null,{default:a(()=>[e(i,{class:"bg-primary elevation-0",color:"#fff",block:""},{default:a(()=>l[33]||(l[33]=[n("刪除問答")])),_:1}),e(i,{block:"",class:"bg-primary elevation-0",color:"#fff"},{default:a(()=>l[34]||(l[34]=[n("停用問答")])),_:1})]),_:1})]),_:1})]),_:1},512),[[nl,s.expandCard]])]),_:1}),e(Y,{modelValue:s.overlay,"onUpdate:modelValue":l[9]||(l[9]=o=>s.overlay=o),persistent:!0},null,8,["modelValue"])],64)}const Bl=B(xl,[["render",Ul]]);export{Bl as d};
