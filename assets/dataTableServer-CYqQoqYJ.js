import{e as W}from"./editorUi-Cnhm7d-O.js";import{c as T,j as a,O as j,r as _,o as u,l as e,P as O,Q,D as x,q as t,R as m,J as d,p as P,ag as K,ae as S,S as L,a7 as G,ah as X,z as n,ai as q,a0 as J,aj as Y,a9 as $,a4 as F,U as y,y as g,K as b,L as r,ab as C,aa as w,a1 as Z,Z as h,W as ll,H as el,I as E,X as al,M as tl,N as A,G as B,$ as z,a5 as H,a6 as sl,a8 as M,Y as ol,a3 as il}from"./vendor-CXNXR3jn.js";import{_ as N}from"./index-iCAh1LX7.js";import{d as nl}from"./datepickerModal-D9TuzOU_.js";const dl={name:"panelCard",props:{textArea:{type:Boolean,default:!1},textEditor:{type:Boolean,default:!1}},data:()=>({panel:1,text:" 這是一段很長很長的文字，希望收合時仍顯示一行，展開時顯示全部內容。內容必須是連續的不可斷行。 這是一段很長很長的文字，希望收合時仍顯示一行。",editStatus:!1}),methods:{editHandle(){this.panel=0,this.editStatus=!0},panelsHandle(){this.panel==0?this.panel=1:this.panel=0}},components:{editorUi:W}},rl={class:""},ul={class:"title"},ml={class:""},pl={key:0,class:"text"},fl={key:1,class:"text"},bl={class:""},vl={key:0,class:"material-symbols-outlined"},yl={key:1,class:"material-symbols-outlined"},Vl={key:0},kl={key:1,class:"subtitle"},gl={key:1,class:"editorCard"},Cl={class:"btnGrp"};function cl(s,l,p,c,V,v){const f=_("QuillEditor"),k=_("editorUi");return u(),T(j,{class:"panelCard",modelValue:s.panel,"onUpdate:modelValue":l[1]||(l[1]=o=>s.panel=o)},{default:a(()=>[e(O,null,{default:a(()=>[e(Q,{"hide-actions":"",onClick:x(v.panelsHandle,["stop"])},{default:a(({expanded:o})=>[t("div",rl,[t("div",ul,[t("div",ml,[l[2]||(l[2]=t("span",{class:"material-symbols-outlined icon"}," comment ",-1)),p.textArea?(u(),m("span",pl,"問題")):(u(),m("span",fl,"回答"))]),t("div",bl,[e(d,{variant:"text",class:P(["icon",{hide:s.editStatus}]),onClick:x(v.editHandle,["stop"])},{default:a(()=>l[3]||(l[3]=[t("span",{class:"material-symbols-outlined"}," edit ",-1)])),_:1},8,["class","onClick"]),e(d,{class:"icon",disabled:s.editStatus,onClick:x(v.panelsHandle,["stop"]),variant:"text"},{default:a(()=>[s.panel===1?(u(),m("span",vl," keyboard_arrow_down ")):(u(),m("span",yl," keyboard_arrow_up "))]),_:1},8,["disabled","onClick"])])]),e(K,{"leave-absolute":""},{default:a(()=>[o?(u(),m("span",Vl)):(u(),m("div",kl,S(this.text),1))]),_:2},1024)])]),_:1},8,["onClick"]),e(L,null,{default:a(()=>[t("p",{class:P([{hide:s.editStatus}])},S(this.text),3),t("div",{class:P(["textArea",{show:s.editStatus}])},[p.textArea?(u(),T(X,{key:0,"single-line":"",label:"",variant:"outlined","hide-details":"auto",value:this.text},null,8,["value"])):G("",!0),p.textEditor?(u(),m("div",gl,[e(f),e(k)])):G("",!0),t("div",Cl,[e(d,{variant:"text",onClick:l[0]||(l[0]=o=>s.editStatus=!1)},{default:a(()=>l[4]||(l[4]=[n("取消")])),_:1}),e(d,{class:"elevation-0"},{default:a(()=>l[5]||(l[5]=[n("儲存")])),_:1})])],2)]),_:1})]),_:1})]),_:1},8,["modelValue"])}const $l=N(dl,[["render",cl]]),Fl=[{name:"無法親自前往，是否可委託他人借還書?",date:"2025/02/22-2025/02/22",main:"借閱規則",status:!0,child:"借閱相關"},{name:"問題名稱問題名稱問題名稱問題名稱問題名稱問題名稱",date:"2025/02/22-2025/02/22",main:"借閱規則",status:!0,child:"借閱相關"},{name:"問題名稱問題名稱問題名稱問題名稱問題名稱問題名稱",date:"2025/02/22-2025/02/22",main:"借閱規則",status:!0,child:"借閱相關"},{name:"問題名稱問題名稱問題名稱問題名稱問題名稱問題名稱",date:"2025/02/22-2025/02/22",main:"借閱規則",status:!1,child:"借閱相關"},{name:"問題名稱問題名稱問題名稱問題名稱問題名稱問題名稱",date:"2025/02/22-2025/02/22",main:"借閱規則",status:!1,child:"借閱相關"}],_l={async fetch({page:s,itemsPerPage:l,sortBy:p}){return new Promise(c=>{setTimeout(()=>{const V=(s-1)*l,v=V+l,f=Fl.slice();if(p.length){const o=p[0].key,i=p[0].order;f.sort((D,R)=>{const U=D[o],I=R[o];return i==="desc"?I-U:U-I})}const k=f.slice(V,v);c({items:k,total:f.length})},500)})}},xl={data:()=>({itemsPerPage:5,tableFiller:!1,tableFiller1:!1,tableFiller2:!1,expandCard:!1,overlay:!1,headers:[{title:"問題",key:"name",align:"start",sortable:!1,minWidth:500},{title:"主分類",key:"main",align:"start",sortable:!1},{title:"子分類",key:"child",align:"start",sortable:!1},{title:"發布期限",key:"date",align:"start",sortable:!0},{title:"狀態",key:"status",align:"start",sortable:!1,width:100},{title:"動作",key:"iron",align:"start",sortable:!0,width:100}],customItemsPerPageText:"每頁顯示項目",serverItems:[],loading:!0,totalItems:0,tab:null,radioValue:"1"}),methods:{loadItems({page:s,itemsPerPage:l,sortBy:p}){this.loading=!0,_l.fetch({page:s,itemsPerPage:l,sortBy:p}).then(({items:c,total:V})=>{this.serverItems=c,this.totalItems=V,this.loading=!1})}},components:{panelCard:$l,datepickerModalVue:nl}},Pl={class:"d-flex"},wl={class:"btnGroup d-flex"},Tl={class:"d-flex"},Gl={class:"btnGroup d-flex"},Ul={class:"d-flex"},Il={class:"btnGroup d-flex"},Sl={class:"d-flex justify-center align-center"},El={class:"btnGroup d-flex"},Al={key:0},Bl={key:1,class:"text-warning50"},zl={class:"titleContent"},Hl={class:"btnGrp"},Ml={class:"tabContent"},Nl={class:"formContent"},Dl={class:"",for:""},Rl={class:"",for:""};function Wl(s,l,p,c,V,v){const f=_("panelCard"),k=_("datepickerModalVue");return u(),m($,null,[e(q,{"items-per-page":s.itemsPerPage,"onUpdate:itemsPerPage":l[10]||(l[10]=o=>s.itemsPerPage=o),headers:s.headers,items:s.serverItems,"items-length":s.totalItems,loading:s.loading,"item-value":"name","onUpdate:options":v.loadItems,"show-select":"","checkbox-color":"primary","items-per-page-text":s.customItemsPerPageText},{"header.main":a(({item:o})=>[t("div",Pl,[l[18]||(l[18]=t("span",null," 主分類 ",-1)),e(F,{modelValue:s.tableFiller,"onUpdate:modelValue":l[2]||(l[2]=i=>s.tableFiller=i),"close-on-content-click":!1,location:"bottom"},{activator:a(({props:i})=>[t("span",g(i,{class:"material-symbols-outlined icon"})," filter_alt ",16)]),default:a(()=>[e(y,{class:"infoBtnContainer tableFiller"},{default:a(()=>[e(b,{class:"formGrp d-block"},{default:a(()=>[e(r,{class:"py-0",cols:"12"},{default:a(()=>[e(C,{color:"primary",label:"全選","hide-details":"auto"})]),_:1}),(u(),m($,null,w(3,i=>e(r,{cols:"12",key:i,class:"py-0"},{default:a(()=>[e(C,{color:"primary",label:"主分類","hide-details":"auto"})]),_:2},1024)),64)),e(r,null,{default:a(()=>[t("div",wl,[e(d,{elevation:"0",color:"primary",variant:"outlined",class:"mr-1",onClick:l[0]||(l[0]=i=>s.tableFiller=!1)},{default:a(()=>l[16]||(l[16]=[n("重設")])),_:1}),e(d,{elevation:"0",color:"primary",onClick:l[1]||(l[1]=i=>s.tableFiller=!1)},{default:a(()=>l[17]||(l[17]=[n("套用篩選")])),_:1})])]),_:1})]),_:1})]),_:1})]),_:1},8,["modelValue"])])]),"header.child":a(({item:o})=>[t("div",Tl,[l[21]||(l[21]=t("span",null," 子分類 ",-1)),e(F,{modelValue:s.tableFiller1,"onUpdate:modelValue":l[5]||(l[5]=i=>s.tableFiller1=i),"close-on-content-click":!1,location:"bottom"},{activator:a(({props:i})=>[t("span",g(i,{class:"material-symbols-outlined icon"})," filter_alt ",16)]),default:a(()=>[e(y,{class:"infoBtnContainer tableFiller"},{default:a(()=>[e(b,{class:"formGrp d-block"},{default:a(()=>[e(r,{class:"py-0",cols:"12"},{default:a(()=>[e(C,{color:"primary",label:"全選","hide-details":"auto"})]),_:1}),(u(),m($,null,w(3,i=>e(r,{cols:"12",key:i,class:"py-0"},{default:a(()=>[e(C,{color:"primary",label:"主分類","hide-details":"auto"})]),_:2},1024)),64)),e(r,null,{default:a(()=>[t("div",Gl,[e(d,{elevation:"0",color:"primary",variant:"outlined",class:"mr-1",onClick:l[3]||(l[3]=i=>s.tableFiller1=!1)},{default:a(()=>l[19]||(l[19]=[n("重設")])),_:1}),e(d,{elevation:"0",color:"primary",onClick:l[4]||(l[4]=i=>s.tableFiller1=!1)},{default:a(()=>l[20]||(l[20]=[n("套用篩選")])),_:1})])]),_:1})]),_:1})]),_:1})]),_:1},8,["modelValue"])])]),"header.status":a(({item:o})=>[t("div",Ul,[l[24]||(l[24]=t("span",null,"狀態 ",-1)),e(F,{modelValue:s.tableFiller2,"onUpdate:modelValue":l[8]||(l[8]=i=>s.tableFiller2=i),"close-on-content-click":!1,location:"bottom"},{activator:a(({props:i})=>[t("span",g(i,{class:"material-symbols-outlined icon"})," filter_alt ",16)]),default:a(()=>[e(y,{class:"infoBtnContainer tableFiller"},{default:a(()=>[e(b,{class:"formGrp d-block"},{default:a(()=>[e(r,{class:"py-0",cols:"12"},{default:a(()=>[e(C,{color:"primary",label:"全選","hide-details":"auto"})]),_:1}),(u(),m($,null,w(3,i=>e(r,{cols:"12",key:i,class:"py-0"},{default:a(()=>[e(C,{color:"primary",label:"主分類","hide-details":"auto"})]),_:2},1024)),64)),e(r,null,{default:a(()=>[t("div",Il,[e(d,{elevation:"0",color:"primary",variant:"outlined",class:"mr-1",onClick:l[6]||(l[6]=i=>s.tableFiller2=!1)},{default:a(()=>l[22]||(l[22]=[n("重設")])),_:1}),e(d,{elevation:"0",color:"primary",onClick:l[7]||(l[7]=i=>s.tableFiller2=!1)},{default:a(()=>l[23]||(l[23]=[n("套用篩選")])),_:1})])]),_:1})]),_:1})]),_:1})]),_:1},8,["modelValue"])])]),"item.function":a(({item:o})=>[t("tr",null,[t("td",Sl,[e(F,{transition:"slide-y-transition"},{activator:a(({props:i})=>[e(d,g({icon:"mdi-cog",class:"ma-2"},i,{size:"x-small"}),null,16)]),default:a(()=>[e(y,{class:"pa-2"},{default:a(()=>[e(d,{size:"small",variant:"outlined",class:"my-1",block:"",color:"primary","prepend-icon":"mdi-delete"},{default:a(()=>l[25]||(l[25]=[n("刪除")])),_:1}),e(d,{size:"small",variant:"outlined",class:"my-1",block:"","prepend-icon":"mdi-pencil",color:"primary"},{default:a(()=>l[26]||(l[26]=[n("編輯")])),_:1})]),_:1})]),_:1})])])]),"item.iron":a(({item:o})=>[t("tr",null,[t("td",null,[t("div",El,[e(d,{variant:"flat",class:"bg-primary_light btn_icon",size:"small",onClick:l[9]||(l[9]=i=>(s.expandCard=!s.expandCard,s.overlay=!s.overlay))},{default:a(()=>l[27]||(l[27]=[t("span",{class:"material-symbols-outlined text-neutral10"}," edit ",-1)])),_:1}),e(d,{variant:"flat",class:"bg-primary_light btn_icon",size:"small"},{default:a(()=>l[28]||(l[28]=[t("span",{class:"material-symbols-outlined text-neutral10"}," delete ",-1)])),_:1})])])])]),"item.status":a(({item:o})=>[t("tr",null,[o.status?(u(),m("span",Al,"已使用")):(u(),m("span",Bl,"未使用"))])]),_:1},8,["items-per-page","headers","items","items-length","loading","onUpdate:options","items-per-page-text"]),e(J,null,{default:a(()=>[Z(e(y,{class:"mx-auto expandCard"},{default:a(()=>[e(h,null,{default:a(()=>[e(ll,null,{default:a(()=>[t("div",zl,[l[30]||(l[30]=t("div",{class:"title"},"編輯問答",-1)),e(d,{variant:"text",class:"btn_icon",onClick:l[11]||(l[11]=o=>(s.overlay=!s.overlay,s.expandCard=!s.expandCard))},{default:a(()=>l[29]||(l[29]=[t("span",{class:"material-symbols-outlined"}," close ",-1)])),_:1})]),t("div",Hl,[l[33]||(l[33]=t("span",{class:"text"},"1/60",-1)),e(d,{variant:"outlined",class:"elevation-0"},{default:a(()=>l[31]||(l[31]=[n("上一筆")])),_:1}),e(d,{class:"elevation-0"},{default:a(()=>l[32]||(l[32]=[n("下一筆")])),_:1})]),e(el,{modelValue:s.tab,"onUpdate:modelValue":l[12]||(l[12]=o=>s.tab=o),grow:""},{default:a(()=>[e(E,{value:1},{default:a(()=>l[34]||(l[34]=[n("問答內容")])),_:1}),e(E,{value:2},{default:a(()=>l[35]||(l[35]=[n("基本設定")])),_:1})]),_:1},8,["modelValue"])]),_:1}),e(al,null,{default:a(()=>[t("div",Ml,[e(tl,{modelValue:s.tab,"onUpdate:modelValue":l[14]||(l[14]=o=>s.tab=o)},{default:a(()=>[e(A,{value:1},{default:a(()=>[e(B,{class:"content"},{default:a(()=>[e(d,{class:"elevation-0 mb-2 refresh",variant:"text"},{prepend:a(()=>l[36]||(l[36]=[t("span",{class:"material-symbols-outlined"}," refresh ",-1)])),default:a(()=>[l[37]||(l[37]=n(" 更新回答"))]),_:1}),e(f,{textArea:!0}),e(f,{textArea:!0}),e(f,{textEditor:!0}),l[39]||(l[39]=t("div",{class:"tagInfo"},[t("div",{class:"tag"},"資料來源：文件上傳"),t("a",{class:"link",href:""},[t("span",{class:"material-symbols-outlined icon"}," attach_file "),t("span",null,"圖書館借閱規則.pdf")])],-1)),e(y,{class:"infoCard elevation-0"},{default:a(()=>l[38]||(l[38]=[t("p",null,[t("span",null," 委託借還書規則"),n(" 讀者可委託他人代為借閱或歸還書籍，但須提供以下資料： ")],-1),t("ul",null,[t("li",null,"1.借閱證或有效身分證明文件（如身分證、學生證等）"),t("li",null,"2.委託書（須載明委託人與受託人資訊）")],-1),t("p",null," 請注意，部分圖書館可能需事先申請或設定委託人，詳情請參閱各館規定或洽詢館方人員。 ",-1)])),_:1})]),_:1})]),_:1}),e(A,{value:2},{default:a(()=>[e(B,{fluid:""},{default:a(()=>[e(y,{class:"infoCard elevation-0"},{default:a(()=>l[40]||(l[40]=[t("ul",null,[t("li",null,[t("span",null,"建立日期 : "),n(" 2024/12/24 12:00 徐華 ")]),t("li",null,[t("span",null,"審核日期 : "),n(" 2024/12/25 13:00 張美美 ")]),t("li",null,[t("span",null,"最後更新 : "),n(" 2025/02/26 16:00 林小玲 ")])],-1)])),_:1}),t("div",Nl,[e(b,{class:"formGrp"},{default:a(()=>[e(r,{class:"pb-0",cols:"12"},{default:a(()=>l[41]||(l[41]=[t("label",{class:"",for:""},"主分類",-1)])),_:1}),e(r,{cols:"12",lg:"6"},{default:a(()=>[e(z,{label:"下拉式選單",density:"compact","single-line":"",variant:"outlined","hide-details":"auto",items:["選項ㄧ","選項二","選項三"]})]),_:1})]),_:1}),e(b,{class:"formGrp"},{default:a(()=>[e(r,{class:"pb-0",cols:"12"},{default:a(()=>l[42]||(l[42]=[t("label",{class:"",for:""},"子分類",-1)])),_:1}),e(r,{cols:"12",lg:"6"},{default:a(()=>[e(z,{label:"下拉式選單",density:"compact","single-line":"",variant:"outlined","hide-details":"auto",items:["選項ㄧ","選項二","選項三"]})]),_:1})]),_:1}),e(b,{class:"formGrp"},{default:a(()=>[e(r,{class:"pb-0",cols:"12"},{default:a(()=>[t("label",Dl,[l[43]||(l[43]=t("span",null,"發布日期",-1)),e(H,{text:"預設為啟用日，您可調整為未來日期以預約發佈",location:"top"},{activator:a(({props:o})=>[t("span",g(o,{class:"icon material-symbols-outlined"})," info ",16)]),_:1})])]),_:1}),e(r,{cols:"12",lg:"6"},{default:a(()=>[e(k)]),_:1})]),_:1}),e(b,{class:"formGrp"},{default:a(()=>[e(r,{class:"pb-0",cols:"12"},{default:a(()=>[t("label",Rl,[l[44]||(l[44]=t("span",null,"停用設定",-1)),e(H,{text:"若有設定停用日期，到期後文章將自動下架至停用區",location:"top"},{activator:a(({props:o})=>[t("span",g(o,{class:"icon material-symbols-outlined"})," info ",16)]),_:1})])]),_:1}),e(r,{cols:"12",lg:"12"},{default:a(()=>[e(sl,{label:"","hide-details":"auto",modelValue:s.radioValue,"onUpdate:modelValue":l[13]||(l[13]=o=>s.radioValue=o),color:"primary"},{default:a(()=>[e(M,{label:"永久發佈（無停用日)",value:"1"}),e(M,{label:"自訂停用日",value:"2"}),s.radioValue==="2"?(u(),T(b,{key:0,class:""},{default:a(()=>[e(r,{cols:"12",lg:"6"},{default:a(()=>[e(k)]),_:1})]),_:1})):G("",!0)]),_:1},8,["modelValue"])]),_:1})]),_:1})])]),_:1})]),_:1})]),_:1},8,["modelValue"])])]),_:1}),e(ol,null,{default:a(()=>[e(d,{class:"bg-primary elevation-0",color:"#fff",block:""},{default:a(()=>l[45]||(l[45]=[n("刪除問答")])),_:1}),e(d,{block:"",class:"bg-primary elevation-0",color:"#fff"},{default:a(()=>l[46]||(l[46]=[n("停用問答")])),_:1})]),_:1})]),_:1})]),_:1},512),[[il,s.expandCard]])]),_:1}),e(Y,{modelValue:s.overlay,"onUpdate:modelValue":l[15]||(l[15]=o=>s.overlay=o),persistent:!0},null,8,["modelValue"])],64)}const Ll=N(xl,[["render",Wl]]);export{Ll as t};
